# ===============================================================================
# OPS Sentinel Suite â€” Configuration
# ===============================================================================
# All values can be overridden by environment variables.
# Edit this file to tune thresholds for your machine.
# ===============================================================================

# --- Pressure Thresholds ---
SWAP_WARNING_MB="${SWAP_WARNING_MB:-2048}"
SWAP_CRITICAL_MB="${SWAP_CRITICAL_MB:-4096}"
MEMORY_FREE_CRITICAL_MB="${MEMORY_FREE_CRITICAL_MB:-200}"
PRESSURE_KILL_COOLDOWN="${PRESSURE_KILL_COOLDOWN:-300}"

# --- Kill Tiers (comma-separated process names or bundle IDs) ---
# Tier 1 = expendable, killed first. Tier 3 = last resort.
KILL_TIER_1="${KILL_TIER_1:-ChatGPT Atlas,Typeless}"
KILL_TIER_2="${KILL_TIER_2:-ollama}"
KILL_TIER_3="${KILL_TIER_3:-com.aether.occult,com.aether.adxstoch,com.aether.syzygy}"
KILL_NEVER="${KILL_NEVER:-claude,Ghostty,Finder,WindowServer,tmux,launchd,sshd}"

# --- Service Monitoring ---
MONITORED_SERVICES="${MONITORED_SERVICES:-com.aether.periapsis,com.aether.occult,com.aether.syzygy,com.aether.adxstoch,com.aether.aether-strategy,com.ops.sync}"
AUTO_RESTART="${AUTO_RESTART:-true}"
MAX_RESTARTS_PER_HOUR="${MAX_RESTARTS_PER_HOUR:-3}"

# --- Backup Freshness ---
GITHUB_STALE_HOURS="${GITHUB_STALE_HOURS:-24}"
OPS_SYNC_STALE_MINUTES="${OPS_SYNC_STALE_MINUTES:-30}"
OPS_MINI_STALE_HOURS="${OPS_MINI_STALE_HOURS:-48}"
GITHUB_REPOS="${GITHUB_REPOS:-/Users/curl/OPS,/Users/curl/repos/aether-periapsis,/Users/curl/repos/aethernote,/Users/curl/repos/strategist,/Users/curl/repos/ops-sentinel-suite}"

# --- Disk ---
DISK_WARNING_GB="${DISK_WARNING_GB:-10}"
DISK_CRITICAL_GB="${DISK_CRITICAL_GB:-5}"

# --- File Janitor ---
JANITOR_ENABLED="${JANITOR_ENABLED:-true}"
JANITOR_WATCH_DIRS="${JANITOR_WATCH_DIRS:-$HOME/Downloads,$HOME/Desktop}"
JANITOR_DESTINATION="${JANITOR_DESTINATION:-/Volumes/OPS-mini/INTAKE}"
JANITOR_FALLBACK_QUEUE="${JANITOR_FALLBACK_QUEUE:-$HOME/Documents/_intake-queue}"
JANITOR_DESKTOP_MAX_AGE_DAYS="${JANITOR_DESKTOP_MAX_AGE_DAYS:-7}"
JANITOR_DOWNLOADS_MAX_AGE_DAYS="${JANITOR_DOWNLOADS_MAX_AGE_DAYS:-3}"
JANITOR_DATE_PREFIX="${JANITOR_DATE_PREFIX:-true}"
JANITOR_IGNORE="${JANITOR_IGNORE:-*.crdownload,*.part,*.tmp}"

# --- Daemon ---
DAEMON_CYCLE_SECONDS="${DAEMON_CYCLE_SECONDS:-60}"
BACKUP_CHECK_INTERVAL="${BACKUP_CHECK_INTERVAL:-10}"
DISK_CHECK_INTERVAL="${DISK_CHECK_INTERVAL:-10}"
JANITOR_CHECK_INTERVAL="${JANITOR_CHECK_INTERVAL:-5}"
LOG_MAX_LINES="${LOG_MAX_LINES:-5000}"

# --- Notifications ---
NOTIFY_METHOD="${NOTIFY_METHOD:-macos}"
